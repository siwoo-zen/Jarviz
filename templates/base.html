{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Jarviz{% endblock %}</title>
  <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>

<script>
    document.addEventListener('DOMContentLoaded', function () {
      const toggles = document.querySelectorAll('.dropdown-toggle');
      toggles.forEach(toggle => {
        toggle.addEventListener('click', () => {
          toggle.classList.toggle('open');
          const submenu = toggle.nextElementSibling;
          if (submenu) submenu.classList.toggle('show');
        });
      });
    });
</script>
  
<body>
  <main style="display: flex;">
    <!-- ✅ 사이드바 -->
    <div class="sidebar">
      <!-- 사이드바 상단: 홈 아이콘 + Jarviz 텍스트 + 닫기 버튼 -->
      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 30px;">
        <a href="/" style="display: flex; align-items: center; text-decoration: none; color: inherit;">
          <img src="{% static 'images/JZ.png' %}" alt="홈"
               style="width: 35px; height: 35px; margin-right: 10px; border-radius: 6px;">
          <h2 style="margin: 0; font-size: 25px;">Jarviz</h2>
        </a>
        <span class="sidebar-toggle" style="font-size: 35px; cursor: pointer; padding: 4px;">«</span>
      </div>
      <hr style="margin: -5 0 15px 0; border: none; height: 1px; background-color: #ccc; width: 100%;">
      <!-- 메뉴 항목 -->
      <nav>
        <ul>
          <li class="dropdown">
            <div class="dropdown-toggle">공고 보기</div>
            <ul class="submenu">
              <li> 모든 공고 보기</li>
              <li> 내게 맞는 공고 추천</li>
              <li> 관심 기업</li>
              <li> 지역별 / 직무별 필터</li>
            </ul>
          </li>
          <li class="dropdown">
            <div class="dropdown-toggle">이력서 관리</div>
            <ul class="submenu">
              <li> 이력서 작성</li>
              <li> AI 분석 피드백 보기</li>
              <li> 포트폴리오 등록</li>
              <li> 공개/비공개 설정</li>
              <li> 지원 내역</li>
            </ul>
          </li>
          <li class="dropdown">
            <div class="dropdown-toggle">기업 서비스</div>
            <ul class="submenu">
              <li> 공고 등록</li>
              <li> 공고 목록 / 수정 / 삭제</li>
              <li> 지원자 관리</li>
              <li> 채용 결과 등록</li>
            </ul>
          </li>
          <li class="single-item">ai 매칭</li>
          <li class="single-item">채용트렌드</li>
          <li class="single-item">공지사항</li>
        </ul>
      </nav>
    </div>

    <div class="gnb">
        <div class="search-box">
          <input type="text" placeholder="검색어 입력...">
        </div>
        <div class="user-menu">
          <span>알림</span>
          <span>마이페이지</span>
          <span>로그인</span>
        </div>
      </div>

    <!-- ✅ 메인 콘텐츠 영역 -->
    <div class="main">
      {% block content %}
      {% endblock %}
    </div>
  </main>

  <!-- ✅ 푸터 -->
  <footer>
    <p>© 2025 Jarviz</p>
  </footer>
</body>
</html>
